"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[34],{2034:function(t,s,e){e.r(s),e.d(s,{default:function(){return T}});var n=e(1413),u=e(2791),i="ProfileInfo_descriptionBlock__XBXuJ",r=e(8340),o=e(5671),a=e(3144),c=e(136),d=e(516),l=e(184),f=(u.Component,e(9439)),p=function(t){var s=(0,u.useState)(!1),e=(0,f.Z)(s,2),n=e[0],i=e[1],r=(0,u.useState)(t.status),o=(0,f.Z)(r,2),a=o[0],c=o[1];(0,u.useEffect)((function(){c(t.status)}),[t.status]);return(0,l.jsxs)("div",{children:[!n&&(0,l.jsx)("div",{children:(0,l.jsx)("span",{onDoubleClick:function(){i(!0)},children:t.status||"Fuck, no status(("})}),n&&(0,l.jsx)("div",{children:(0,l.jsx)("input",{onChange:function(t){c(t.currentTarget.value)},autoFocus:!0,onBlur:function(){i(!1),t.updateStatus(a)},value:a})})]})},x=function(t){var s=t.profile,e=t.status,n=t.updateStatus;return s?(0,l.jsx)("div",{children:(0,l.jsxs)("div",{className:i,children:[(0,l.jsx)("img",{src:s.photos.large}),(0,l.jsx)(p,{status:e,updateStatus:n})]})}):(0,l.jsx)(r.Z,{})},h=e(5275),j="MyPosts_postsBlock__lB-pf",m="MyPosts_posts__GSiZ2",v="Post_item__Yu4oG",g=function(t){return(0,l.jsxs)("div",{className:v,children:[(0,l.jsx)("img",{src:"https://i.yapx.cc/QUYDv.jpg"}),t.message,";",(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{children:"like"})," ",t.likesCount]})]})},P=e(6139),S=e(704),_=e(5304),k=e(311),C=u.memo((function(t){var s=t.posts.map((function(t){return(0,l.jsx)(g,{message:t.message,likesCount:t.likesCount})}));return(0,l.jsxs)("div",{className:j,children:[(0,l.jsx)("h3",{children:"My posts"}),(0,l.jsx)(b,{onSubmit:function(s){t.addPost(s.newPostText)}}),(0,l.jsx)("div",{className:m,children:s})]})})),Z=(0,_.D)(10),b=(0,S.Z)({form:"ProfileAddNewPostForm"})((function(t){return(0,l.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,l.jsx)("div",{children:(0,l.jsx)(P.Z,{name:"newPostText",component:k.gx,placeholder:"Post message",validate:[_.C,Z]})}),(0,l.jsx)("div",{children:(0,l.jsx)("button",{children:"Add post"})})]})})),w=C,y=e(8687),N=(0,y.$j)((function(t){return{posts:t.profilePage.posts,newPostText:t.profilePage.newPostText}}),(function(t){return{addPost:function(s){t((0,h.Wl)(s))}}}))(w),U=function(t){return(0,l.jsxs)("div",{children:[(0,l.jsx)(x,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),(0,l.jsx)(N,{})]})},B=e(7689),I=e(1548);var T=(0,e(7781).qC)((0,y.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getUserProfile:h.et,getStatus:h.lR,updateStatus:h.Nf}),I.D)((function(t){var s=(0,B.UO)().userId;return s||(s=t.authorizedUserId),(0,u.useEffect)((function(){t.getUserProfile(s),t.getStatus(s)}),[s]),(0,l.jsx)("div",{children:(0,l.jsx)(U,(0,n.Z)((0,n.Z)({},t),{},{profile:t.profile,status:t.status,updateStatus:t.updateStatus}))})}))}}]);
//# sourceMappingURL=34.0d37d492.chunk.js.map